@model List<Models.Entity.Booking>
@{
    ViewBag.Title = "Schedule";
    Layout = "~/Areas/Admin/Views/Shared/_LayoutAdmin.cshtml";
    List<Models.Entity.Bed> listBed = ViewBag.listBed;
    List<Models.Entity.Room> listRoom = ViewBag.listRoom;
    List<Models.Entity.Customer> listCustomer = ViewBag.listCustomer;
    List<Models.Entity.Service> listServices = ViewBag.listServices;
    DateTime scheduleDate = ViewBag.date;
}

<section class="wrapper">
    <div class="table-agile-info">
        <div class="panel panel-default">
            <div class="panel-heading">
                Schedule
            </div>
            <div class="row w3-res-tb">
            </div>
            <a style="text-align:left"></a>
            <div class="table-responsive">
                <table class="table table-striped b-t b-light">
                    
                    <tr><td colspan="10" align="center">@Html.ActionLink("Prev", "Schedule", new { date = scheduleDate.AddDays(-1) }, new { @style = "margin-right:20px" }) @scheduleDate.Date.ToShortDateString() @Html.ActionLink("Next", "Schedule", new { date = scheduleDate.AddDays(1) }, new { @style = "margin-left:20px" })</tr>
                    <tr>
                        <td align="center">Room </td>
                        <td>Bed  </td>
                        <td>8:00-9:00 </td>
                        <td>9:00-10:00 </td>
                        <td>10:00-11:00 </td>
                        <td>11:00-12:00 </td>
                        <td>1:00-2:00 </td>
                        <td>2:00-3:00 </td>
                        <td>3:00-4:00 </td>
                        <td>4:00-5:00 </td>
                    </tr>
                    @foreach (var bed in listBed)
                    {
                        <tr style="height:100px">
                            <td>
                                @{
                                    foreach (var room in listRoom)
                                    {
                                        if (bed.IdRoom == room.Id)
                                        {
                                            @: @room.Name
                                        }
                                    }
                                }
                            </td>
                            <td>@bed.Name</td>
                            <td>
                                @{
                                    foreach (var booking in Model)
                                    {
                                        if (booking.IdBed == bed.Id)
                                        {
                                            if (booking.ArrivalTime.TimeOfDay.Hours >= 8 && booking.ArrivalTime.TimeOfDay.Hours < 9)
                                            {
                                                foreach (var customer in listCustomer)
                                                {
                                                    if (customer.id == booking.IdCustomer)
                                                    {
                                                        @: @customer.Name <br />
                                                        @: @customer.phone <br />
                                                    }
                                                }
                                                foreach (var services in listServices)
                                                {
                                                    if (services.id == booking.IdServices)
                                                    {
                                                        @: @services.name
                                                    }
                                                }

                                            }
                                        }
                                    }
                                }
                            </td>
                            <td>
                                @{
                                    foreach (var booking in Model)
                                    {
                                        if (booking.IdBed == bed.Id)
                                        {

                                            if (booking.ArrivalTime.TimeOfDay.Hours >= 9 && booking.ArrivalTime.TimeOfDay.Hours < 10)
                                            {
                                                foreach (var customer in listCustomer)
                                                {
                                                    if (customer.id == booking.IdCustomer)
                                                    {
                                                        @: @customer.Name <br />
                                                        @: @customer.phone <br />
                                                    }
                                                }
                                                foreach (var services in listServices)
                                                {
                                                    if (services.id == booking.IdServices)
                                                    {
                                                        @: @services.name
                                                    }
                                                }
                                            }

                                        }
                                    }
                                }
                            </td>
                            <td>
                                @{
                                    foreach (var booking in Model)
                                    {
                                        if (booking.IdBed == bed.Id)
                                        {

                                            if (booking.ArrivalTime.TimeOfDay.Hours >= 10 && booking.ArrivalTime.TimeOfDay.Hours < 11)
                                            {
                                                foreach (var customer in listCustomer)
                                                {
                                                    if (customer.id == booking.IdCustomer)
                                                    {
                                                        @: @customer.Name <br />
                                                        @: @customer.phone <br />
                                                    }
                                                }
                                                foreach (var services in listServices)
                                                {
                                                    if (services.id == booking.IdServices)
                                                    {
                                                        @: @services.name
                                                    }
                                                }

                                            }
                                        }
                                    }
                                }
                            </td>
                            <td>
                                @{
                                    foreach (var booking in Model)
                                    {
                                        if (booking.IdBed == bed.Id)
                                        {

                                            if (booking.ArrivalTime.TimeOfDay.Hours >= 11 && booking.ArrivalTime.TimeOfDay.Hours < 12)
                                            {
                                                foreach (var customer in listCustomer)
                                                {
                                                    if (customer.id == booking.IdCustomer)
                                                    {
                                                        @: @customer.Name <br />
                                                        @: @customer.phone <br />
                                                    }
                                                }
                                                foreach (var services in listServices)
                                                {
                                                    if (services.id == booking.IdServices)
                                                    {
                                                        @: @services.name
                                                    }
                                                }

                                            }
                                        }
                                    }
                                }
                            </td>
                            <td>
                                @{
                                    foreach (var booking in Model)
                                    {
                                        if (booking.IdBed == bed.Id)
                                        {

                                            if (booking.ArrivalTime.TimeOfDay.Hours >= 13 && booking.ArrivalTime.TimeOfDay.Hours < 14)
                                            {
                                                foreach (var customer in listCustomer)
                                                {
                                                    if (customer.id == booking.IdCustomer)
                                                    {
                                                        @: @customer.Name <br />
                                                        @: @customer.phone <br />
                                                    }

                                                }

                                                foreach (var services in listServices)
                                                {
                                                    if (services.id == booking.IdServices)
                                                    {
                                                        @: @services.name
                                                    }
                                                }

                                            }
                                        }
                                    }
                                }
                            </td>
                            <td>
                                @{
                                    foreach (var booking in Model)
                                    {
                                        if (booking.IdBed == bed.Id)
                                        {

                                            if (booking.ArrivalTime.TimeOfDay.Hours >= 14 && booking.ArrivalTime.TimeOfDay.Hours < 15)
                                            {
                                                foreach (var customer in listCustomer)
                                                {
                                                    if (customer.id == booking.IdCustomer)
                                                    {
                                                        @: @customer.Name <br />
                                                        @: @customer.phone <br />
                                                    }
                                                }
                                                foreach (var services in listServices)
                                                {
                                                    if (services.id == booking.IdServices)
                                                    {
                                                        @: @services.name
                                                    }
                                                }

                                            }
                                        }
                                    }
                                }
                            </td>
                            <td>
                                @{
                                    foreach (var booking in Model)
                                    {
                                        if (booking.IdBed == bed.Id)
                                        {

                                            if (booking.ArrivalTime.TimeOfDay.Hours >= 15 && booking.ArrivalTime.TimeOfDay.Hours < 16)
                                            {
                                                foreach (var customer in listCustomer)
                                                {
                                                    if (customer.id == booking.IdCustomer)
                                                    {
                                                        @: @customer.Name <br />
                                                        @: @customer.phone <br />
                                                    }
                                                }
                                                foreach (var services in listServices)
                                                {
                                                    if (services.id == booking.IdServices)
                                                    {
                                                        @: @services.name
                                                    }
                                                }

                                            }
                                        }
                                    }
                                }
                            </td>
                            <td>
                                @{
                                    foreach (var booking in Model)
                                    {
                                        if (booking.IdBed == bed.Id)
                                        {

                                            if (booking.ArrivalTime.TimeOfDay.Hours >= 16 && booking.ArrivalTime.TimeOfDay.Hours < 17)
                                            {
                                                foreach (var customer in listCustomer)
                                                {
                                                    if (customer.id == booking.IdCustomer)
                                                    {
                                                        @: @customer.Name <br />
                                                        @: @customer.phone <br />
                                                    }
                                                }
                                                foreach (var services in listServices)
                                                {
                                                    if (services.id == booking.IdServices)
                                                    {
                                                        @: @services.name
                                                    }
                                                }

                                            }
                                        }
                                    }
                                }
                            </td>
                        </tr>
                    }


                </table>
            </div>
        </div>
    </div>
</section>




